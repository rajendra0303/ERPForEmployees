@model RecruitmentSystem.ViewModels.HrDashboardVM

@{
    ViewData["Title"] = "HR Dashboard";
}

<style>
    :root {
        --hr-bg: #171a1f;
        --hr-surface: #1f232b;
        --hr-surface-2: #232836;
        --hr-border: rgba(255,255,255,.08);
        --hr-text: #e6e9ef;
        --hr-muted: rgba(230,233,239,.65);
        --hr-accent: #7c87ff;
        --hr-accent-2: #aab1ff;
    }

    .hrm-shell {
        min-height: 78vh;
        background: var(--hr-bg);
        border-radius: 0;
        overflow: hidden;
        box-shadow: 0 24px 50px rgba(0, 0, 0, .45);
        border: 1px solid rgba(255,255,255,.06);
    }

    .hrm-side {
        width: 220px;
        background: linear-gradient(180deg, #2b2f36 0, #20242b 100%);
        border-right: 1px solid var(--hr-border);
        padding: 18px 14px;
        color: var(--hr-text);
    }

    .hrm-brand {
        font-weight: 700;
        letter-spacing: .06em;
        padding: 8px 10px 16px;
        color: var(--hr-text);
        opacity: .95;
    }

    .hrm-nav .hrm-link {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 12px;
        border-radius: 12px;
        color: var(--hr-text);
        text-decoration: none;
        border: 1px solid transparent;
        font-weight: 600;
        opacity: .9;
        margin-bottom: 8px;
    }

    .hrm-nav .hrm-link:hover {
        background: rgba(255,255,255,.06);
        border-color: rgba(255,255,255,.06);
    }

    .hrm-nav .hrm-link.active {
        background: rgba(124,135,255,.16);
        border-color: rgba(124,135,255,.22);
        color: #fff;
    }

    .hrm-dot {
        width: 10px;
        height: 10px;
        border-radius: 4px;
        background: rgba(255,255,255,.35);
        display: inline-block;
    }

    .hrm-link.active .hrm-dot {
        background: var(--hr-accent);
    }

    .hrm-main {
        flex: 1;
        padding: 18px;
        color: var(--hr-text);
    }

    .hrm-topbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
        margin-bottom: 14px;
    }

    .hrm-title {
        font-size: 1.35rem;
        font-weight: 800;
        letter-spacing: .04em;
        margin: 0;
    }

    .hrm-search {
        width: min(340px, 100%);
        display: flex;
        align-items: center;
        gap: 8px;
        background: rgba(255,255,255,.06);
        border: 1px solid rgba(255,255,255,.08);
        border-radius: 12px;
        padding: 8px 10px;
    }

    .hrm-search input {
        background: transparent;
        border: none;
        outline: none;
        color: var(--hr-text);
        width: 100%;
        font-size: .9rem;
    }

    .hrm-card {
        background: linear-gradient(180deg, var(--hr-surface), var(--hr-surface-2));
        border: 1px solid var(--hr-border);
        border-radius: 16px;
        box-shadow: 0 14px 26px rgba(0,0,0,.25);
    }

    .hrm-kpi-label {
        font-size: .72rem;
        text-transform: uppercase;
        letter-spacing: .14em;
        color: var(--hr-muted);
        font-weight: 700;
    }

    .hrm-kpi-number {
        font-size: 1.9rem;
        font-weight: 800;
        margin-top: 2px;
    }

    .hrm-pill {
        font-size: .7rem;
        padding: 4px 10px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,.12);
        background: rgba(255,255,255,.06);
        color: var(--hr-text);
        white-space: nowrap;
    }

    .hrm-pill.primary {
        background: rgba(124,135,255,.18);
        border-color: rgba(124,135,255,.28);
    }

    .hrm-mini {
        color: var(--hr-muted);
        font-size: .85rem;
    }

    .hrm-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0 8px;
    }

    .hrm-table th {
        font-size: .72rem;
        text-transform: uppercase;
        letter-spacing: .12em;
        color: var(--hr-muted);
        font-weight: 700;
        padding: 0 10px 6px;
    }

    .hrm-table td {
        padding: 10px;
        background: rgba(255,255,255,.04);
        border-top: 1px solid rgba(255,255,255,.06);
        border-bottom: 1px solid rgba(255,255,255,.06);
        color: var(--hr-text);
        font-size: .9rem;
    }

    .hrm-table tr td:first-child {
        border-left: 1px solid rgba(255,255,255,.06);
        border-top-left-radius: 12px;
        border-bottom-left-radius: 12px;
    }

    .hrm-table tr td:last-child {
        border-right: 1px solid rgba(255,255,255,.06);
        border-top-right-radius: 12px;
        border-bottom-right-radius: 12px;
    }

    @@media (max-width: 992px) {
        .hrm-side { display: none; }
        .hrm-main { padding: 14px; }
    }
</style>

<div class="hrm-shell d-flex">
    <aside class="hrm-side">
        <div class="hrm-brand">HR MANAGEMENT</div>

        <nav class="hrm-nav">
            <a class="hrm-link active" href="#">
                <span class="hrm-dot"></span> Dashboard
            </a>
            <a class="hrm-link" asp-action="Candidates">
                <span class="hrm-dot"></span> Applications
            </a>
            <a class="hrm-link" asp-action="Candidates">
                <span class="hrm-dot"></span> Reports
            </a>
            <a class="hrm-link" asp-action="Candidates">
                <span class="hrm-dot"></span> Notifications
            </a>
            <a class="hrm-link" asp-action="Candidates">
                <span class="hrm-dot"></span> Messages
            </a>
        </nav>

        <div class="mt-auto pt-3">
            <a asp-controller="Account" asp-action="Logout" class="hrm-link">
                <span class="hrm-dot"></span> Logout
            </a>
        </div>
    </aside>

    <main class="hrm-main">
        <div class="hrm-topbar">
            <h2 class="hrm-title">HR MANAGEMENT DASHBOARD</h2>
            <div class="hrm-search">
                <span class="text-white-50 small">Search</span>
                <input type="text" aria-label="Search" placeholder="Type to search..." />
            </div>
        </div>

        <div class="row g-3">
            <div class="col-lg-4">
                <div class="hrm-card p-3 h-100">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                        <div class="hrm-kpi-label">Total Applications</div>
                        <span class="hrm-pill primary">Live</span>
                    </div>
                    <div class="hrm-kpi-number">@Model.TotalApplications</div>
                    <div class="hrm-mini mt-1">Candidates applied across all roles</div>

                    <hr class="border-0 my-3" style="height:1px;background:rgba(255,255,255,.08)" />

                    <div class="d-flex flex-wrap gap-2">
                        <span class="hrm-pill">Applied: @Model.AppliedCount</span>
                        <span class="hrm-pill">Selected: @Model.SelectedCount</span>
                        <span class="hrm-pill">Rejected: @Model.RejectedCount</span>
                        <span class="hrm-pill">Exam Sent: @Model.ExamSentCount</span>
                        <span class="hrm-pill">Employee Created: @Model.EmployeeCreatedCount</span>
                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div class="hrm-card p-3 h-100">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                        <div>
                            <div class="hrm-kpi-label">Role Distribution</div>
                            <div class="hrm-mini">Counts by role</div>
                        </div>
                        <a asp-action="Candidates" class="btn btn-sm btn-outline-light">Manage</a>
                    </div>

                    <div class="row g-3 mt-1">
                        <div class="col-md-4">
                            <div class="p-3 rounded-3" style="background:rgba(124,135,255,.10);border:1px solid rgba(124,135,255,.18)">
                                <div class="hrm-kpi-label">ASP.NET Developer</div>
                                <div class="hrm-kpi-number">@Model.AspNetDeveloperCount</div>
                                <div class="hrm-mini">Primary stack</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3 rounded-3" style="background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08)">
                                <div class="hrm-kpi-label">Java Developer</div>
                                <div class="hrm-kpi-number">@Model.JavaDeveloperCount</div>
                                <div class="hrm-mini">Backend services</div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="p-3 rounded-3" style="background:rgba(170,177,255,.08);border:1px solid rgba(170,177,255,.16)">
                                <div class="hrm-kpi-label">AI/ML Developer</div>
                                <div class="hrm-kpi-number">@Model.AiMlDeveloperCount</div>
                                <div class="hrm-mini">Data & models</div>
                            </div>
                        </div>
                    </div>

                    <div class="hrm-mini mt-3">
                        Tip: Add more roles later by extending `JobRole` values and HR counts.
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-3 mt-1">
            <div class="col-lg-6">
                <div class="hrm-card p-3 h-100">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                        <div>
                            <div class="hrm-kpi-label">Monthly Trend</div>
                            <div class="hrm-mini">Placeholder chart style (UI only)</div>
                        </div>
                        <span class="hrm-pill">Last 12 months</span>
                    </div>

                    <div class="d-flex align-items-end gap-2" style="height:160px">
                        <div style="width:100%;height:22%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:34%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:28%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:52%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:62%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:46%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:74%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:88%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:66%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                        <div style="width:100%;height:92%;background:rgba(124,135,255,.18);border:1px solid rgba(124,135,255,.25);border-radius:10px"></div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="hrm-card p-3 h-100">
                    <div class="d-flex align-items-center justify-content-between mb-2">
                        <div>
                            <div class="hrm-kpi-label">Recent Summary</div>
                            <div class="hrm-mini">Quick view table (UI only)</div>
                        </div>
                        <a asp-action="Candidates" class="btn btn-sm btn-outline-light">Open</a>
                    </div>

                    <table class="hrm-table">
                        <thead>
                            <tr>
                                <th>Role</th>
                                <th>Applied</th>
                                <th>Selected</th>
                                <th>Rejected</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ASP.NET Developer</td>
                                <td>@Model.AppliedCount</td>
                                <td>@Model.SelectedCount</td>
                                <td>@Model.RejectedCount</td>
                            </tr>
                            <tr>
                                <td>Java Developer</td>
                                <td>@Model.AppliedCount</td>
                                <td>@Model.SelectedCount</td>
                                <td>@Model.RejectedCount</td>
                            </tr>
                            <tr>
                                <td>AI/ML Developer</td>
                                <td>@Model.AppliedCount</td>
                                <td>@Model.SelectedCount</td>
                                <td>@Model.RejectedCount</td>
                            </tr>
                        </tbody>
                    </table>

                    <div class="hrm-mini">
                        Note: If you want true per-role status numbers here, we can add those counts in `HrDashboardVM`.
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
